"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getV3ClientType = void 0;
const config_1 = require("../config");
const CLIENT_REQ_RESP_TYPES_MAP_1 = require("../config/CLIENT_REQ_RESP_TYPES_MAP");
const utils_1 = require("../utils");
const getTypeForString_1 = require("./getTypeForString");
const getTypeRefWithV3ClientDefaultLocalName = (j, v3ClientDefaultLocalName, v3ClientTypeName) => j.tsTypeReference(j.identifier([v3ClientDefaultLocalName, v3ClientTypeName].join(".")));
const getV3ClientType = (j, { v2ClientLocalName, v2ClientName, v2ClientTypeName }) => {
    const clientReqRespTypesMap = CLIENT_REQ_RESP_TYPES_MAP_1.CLIENT_REQ_RESP_TYPES_MAP[v2ClientName];
    const defaultLocalName = (0, utils_1.getDefaultLocalName)(v2ClientLocalName);
    if (Object.keys(clientReqRespTypesMap).includes(v2ClientTypeName)) {
        return getTypeRefWithV3ClientDefaultLocalName(j, defaultLocalName, clientReqRespTypesMap[v2ClientTypeName]);
    }
    const clientTypesMap = config_1.CLIENT_TYPES_MAP[v2ClientName];
    if (Object.keys(clientTypesMap).includes(v2ClientTypeName)) {
        return (0, getTypeForString_1.getTypeForString)(j, defaultLocalName, clientTypesMap[v2ClientTypeName]);
    }
    return getTypeRefWithV3ClientDefaultLocalName(j, defaultLocalName, v2ClientTypeName);
};
exports.getV3ClientType = getV3ClientType;
